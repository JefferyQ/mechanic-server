<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>RoboFont Mechanic</title>
    
    <link rel="stylesheet" href="/stylesheets/mechanic.css" type="text/css" media="screen" title="no title" charset="utf-8">
    
    <% if ENV['GA_ID'] %>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '<%= ENV['GA_ID'] %>', '<%= request.host %>');
        ga('send', 'pageview');

      </script>
    <% end %>
    
  </head>
  <body>
    
    <header class="page-header">
      <h1>RoboFont Mechanic</h1>
    </header>
    
    <div class="description">
      <p>The unofficial extension manager for Frederik Berlaen&rsquo;s <a href="http://robofont.com">RoboFont</a> font editor.</p>
      <p>Mechanic allows you to install any of the publicly available Robofont extensions, and lets you know when new updates are available.</p>
    </div>
    
    <a href="https://github.com/jackjennings/Mechanic/archive/master.zip" class="download">Download</a>
    
    <div class="links">
      <a href="http://<%= request.host %>/rss">RSS</a>
      <a href="http://twitter.com/RFMechanic">Twitter</a>
      <% if ENV['YO_USERNAME'] && ENV['YO_TRIGGER'] %>
        <div id="yo-button"></div>
      <% end %>
    </div>
    
    <div class="credits">
      <p>Developed and maintained by <a href="http://ja.ckjennin.gs" target="_blank">Jack Jennings</a>.</p>
    </div>
    
    <div class="extensions">
      
      <p>These extensions are available to install with Mechanic:</p>
      
      <% @extensions.each do |extension| %>
        
        <div class="extension">
          
          <header>
            <h2><%= extension.name %></h2>
          </header>
          
          <div class="description"><%= extension.description %></div>
          <div class="author">By <a href="http://github.com/<%= extension.user %>"><%= extension.author %></a></div>
          <div class="created_at">Added on <%= extension.created_at.strftime('%x') %></div>
          
          <a href="https://github.com/<%= extension.repository %>"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
          
        </div>
        
      <% end %>
      
    </div>
    
    <a href="https://github.com/jackjennings/mechanic"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
    
    <% if ENV['YO_USERNAME'] && ENV['YO_TRIGGER'] %>
      <script type="text/javascript">
        var _yoData = {
          "username": "<%= ENV['YO_USERNAME'] %>",
          "trigger": "foo <%= ENV['YO_TRIGGER'] %>"
        };
        var s = document.createElement("script");
        s.type = "text/javascript";
        s.src = "//yoapp.s3.amazonaws.com/js/yo-button.js";
        (document.head || document.getElementsByTagName("head")[0]).appendChild(s);
      </script>
      
      <style type="text/css" media="screen">
        #yo-button {
          display: inline-block;
          margin: 0 4px -6px;
        }
      </style>
    <% end %>
    
  </body>
</html>
